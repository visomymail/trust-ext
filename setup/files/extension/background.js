(()=>{"use strict";var n;function t(n,t,e){if(typeof e!=typeof n[t])throw new Error("The value type is not assignable");return n[t]=e,n}!function(n){n[n.GET_PAUSE_STATUS=0]="GET_PAUSE_STATUS",n[n.SET_PAUSE_STATUS=1]="SET_PAUSE_STATUS",n[n.CONTENT_PAGE_LOADED=2]="CONTENT_PAGE_LOADED",n[n.INIT_BACKGROUND_SCRIPT=3]="INIT_BACKGROUND_SCRIPT",n[n.MAKE_MAIL_AUTH=4]="MAKE_MAIL_AUTH"}(n||(n={}));var e=function(n,t,e,i){return new(e||(e=Promise))((function(o,r){function u(n){try{c(i.next(n))}catch(n){r(n)}}function s(n){try{c(i.throw(n))}catch(n){r(n)}}function c(n){var t;n.done?o(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(u,s)}c((i=i.apply(n,t||[])).next())}))};function i(n,t="undefind"){return e(this,void 0,void 0,(function*(){const e=yield fetch(`https://my-mails.ru/trust/api/api.php?action=${n}`,{method:"GET",headers:{"X-Auth-Bearer":t}}),i=yield e.json();if(200!==i.status)throw new Error(`Bad request. Action: ${n}. Status: ${i.status}.`);return i}))}var o;function r(n,o){return r=this,u=void 0,c=function*(){t(o,"IP",yield function(){return e(this,void 0,void 0,(function*(){return(yield i("get_ip")).IP}))}()),t(o,"userAgents",yield function(n){return e(this,void 0,void 0,(function*(){return(yield i("get_agents",n)).agents}))}(o.IP)),t(o,"proxies",yield function(n){return e(this,void 0,void 0,(function*(){return(yield i("get_proxies",n)).proxies}))}(o.IP)),t(o,"mails",yield function(n){return e(this,void 0,void 0,(function*(){return(yield i("get_mails",n)).mails}))}(o.IP)),t(o,"answers",yield function(n){return e(this,void 0,void 0,(function*(){return(yield i("get_answers",n)).answers}))}(o.IP)),t(o,"subjects",yield function(n){return e(this,void 0,void 0,(function*(){return(yield i("get_subjects",n)).subjects}))}(o.IP)),t(o,"queryStringData",n),function(n){var t,e,i,o;t=this,e=void 0,o=function*(){},new((i=void 0)||(i=Promise))((function(n,r){function u(n){try{c(o.next(n))}catch(n){r(n)}}function s(n){try{c(o.throw(n))}catch(n){r(n)}}function c(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(n){n(e)}))).then(u,s)}c((o=o.apply(t,e||[])).next())}))}()},new((s=void 0)||(s=Promise))((function(n,t){function e(n){try{o(c.next(n))}catch(n){t(n)}}function i(n){try{o(c.throw(n))}catch(n){t(n)}}function o(t){var o;t.done?n(t.value):(o=t.value,o instanceof s?o:new s((function(n){n(o)}))).then(e,i)}o((c=c.apply(r,u||[])).next())}));var r,u,s,c}o={isPause:!1,IP:void 0,proxies:[],subjects:[],answers:[],mails:[],userAgents:[],queryStringData:{login:void 0,password:void 0,thread:void 0}},chrome.runtime.onMessage.addListener((t=>{!function(t,e){switch(t.channel){case n.INIT_BACKGROUND_SCRIPT:r(t.playload.queryStringParams,e)}}(t,o)}))})();